<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__853ca6f960cbb300643957c6d11f7f1c">813ca6f9dbcbb30070df5c7a4896191d</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"5f59f15290d84bdabf8a83769ae9d794","triggerType":"request","id":"5f59f15290d84bdabf8a83769ae9d794"}],"goals":[{"name":"primary","trigger_id":"5f59f15290d84bdabf8a83769ae9d794","nodes":[{"type":"StartGoal","goal_id":"c786a405322b411e95b87014b4b4fb4a","greeting_msg":{"type":"String","mode":"string","value":"I can help you find and update NeedIt records for a type of request."},"id":"c257a355016846139f800dacfd06b1f5","name":"Start"},{"type":"TerminateGoal","goal_id":"c786a405322b411e95b87014b4b4fb4a","confirmation_msg":{"type":"String","mode":"string","value":"Ask again when you need to update other NeedIt records."},"id":"222957b8f6944953952964e65e9d7f5d","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"e78aee72f4a3421bb8d8a4c9194c5ad3","name":"NeedIt Type","goal_id":"c786a405322b411e95b87014b4b4fb4a","variable_id":"c4e11be240d1439a9fc6581fc8eb8bb2","message":{"type":"String","mode":"string","value":"What type of NeedIt record would you like to view?"},"optional":false},{"type":"InputPrompt","variable_id":"9d548aced5d040d795eec54dacacee74","message":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    var message=vaInputs.needit_type.getDisplayValue().toString();\n    return ('You selected '+message);\n})()\n"},"optional":false,"id":"5ce656022ba5445cb1f201a744bcbdc8","name":"Confirm NeedIt Type","goal_id":"c786a405322b411e95b87014b4b4fb4a"},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"38f86382149749a29f46b0a1eda30e28","name":"NeedIt List","goal_id":"c786a405322b411e95b87014b4b4fb4a","variable_id":"23b3bbfd635a4548ab3f5abaef259122","message":{"type":"String","mode":"string","value":"Select a NeedIt record to view"},"optional":false,"expression_mode":"script","script":"(function execute(table) {\n    /* Code your GlideRecord query logic here. For example:\n    \n        var options = [];\n        var gr = new GlideRecord(table);\n        gr.addEncodedQuery('active=true^numberSTARTSWITHINC001001');\n        gr.setLimit(10);\n        gr.query();\n        while(gr.next()) {\n            options.push({ 'value': gr.getUniqueValue(), 'label': gr.getValue('short_description') });\n        }\n        return options;\n    */\n\n    var options = [];\n    var needIt = new GlideRecord(table);\n    needIt.addQuery('u_request_type',vaInputs.needit_type.getValue());\n    needIt.addQuery('active','true');\n    needIt.addQuery('u_requested_for',vaInputs.user);\n    needIt.query();\n    while(needIt.next()){\n        options.push({'value':needIt.getUniqueValue(),'label':needIt.getValue('number')+\"-\"+needIt.getValue('short_description')});\n    }\n    return options;\n})(table)\n","no_options_found_message":{"type":"String","mode":"string","value":"You have no open NeedIt records."},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n    /* Code your GlideRecord query logic here. For example:\n    \n        var options = [];\n        var gr = new GlideRecord(table);\n        gr.addEncodedQuery('active=true^numberSTARTSWITHINC001001');\n        gr.setLimit(10);\n        gr.query();\n        while(gr.next()) {\n            options.push({ 'value': gr.getUniqueValue(), 'label': gr.getValue('short_description') });\n        }\n        return options;\n    */\n\n    var options = [];\n    var needIt = new GlideRecord(table);\n    needIt.addQuery('u_request_type',vaInputs.needit_type.getValue());\n    needIt.addQuery('active','true');\n    needIt.addQuery('u_requested_for',vaInputs.user);\n    needIt.query();\n    while(needIt.next()){\n        options.push({'value':needIt.getUniqueValue(),'label':needIt.getValue('number')+\"-\"+needIt.getValue('short_description')});\n    }\n    return options;\n})(table)\n"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"23b3bbfd635a4548ab3f5abaef259122","fields":["priority","short_description","u_when_needed"],"id":"8fd574293b5f4e9a8b5c8bacba208516","name":"NeedIt Card","goal_id":"c786a405322b411e95b87014b4b4fb4a","condition":{"type":"Condition","mode":"variable","value":""}},{"type":"InputPrompt","variable_id":"8ebdbc47ba39421a9659642119e7c48f","message":{"type":"String","mode":"string","value":"Would you like to view another NeedIt Record?"},"optional":false,"id":"1c1460b9256e4ac989ce7edd343530ad","name":"Search Again","goal_id":"c786a405322b411e95b87014b4b4fb4a"},{"type":"Decision","name":"Find more NeedIt records?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"d48286dd06d0432a9d1f1313e3a86e64","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"cc610bb7bf9249f8bc00aad1ef726e69","name":"Yes"}],"id":"07f89e0d421c410c9a8601c7602b2b7d","goal_id":"c786a405322b411e95b87014b4b4fb4a"},{"type":"InputPrompt","variable_id":"1fc4429394ce4c3292c439157711732a","message":{"type":"String","mode":"string","value":"When do you need the NeedIt completed?"},"optional":false,"id":"9820c69614cc4f08854f027916dc7ddf","name":"New When Needed Date","goal_id":"c786a405322b411e95b87014b4b4fb4a"},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs.new_when_needed_date}}","variable_id":"23b3bbfd635a4548ab3f5abaef259122","id":"5acacdfc7dca4425b3e80d5d2254b602","name":"Change When Needed Date","goal_id":"c786a405322b411e95b87014b4b4fb4a"},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"23b3bbfd635a4548ab3f5abaef259122","fields":["u_when_needed"],"id":"fbb6e742dd5540c1bf1413805be070cf","name":"Updated NeedIt","goal_id":"c786a405322b411e95b87014b4b4fb4a","condition":{"type":"Condition","mode":"variable","value":""}},{"type":"Decision","name":"Change Field Values","branches":[{"type":"Branch","label":"When Needed","expression":{"type":"Applicability","mode":"query","value":"change_fields=when_need^needit_listISNOTEMPTY"},"id":"cc8cbb572d464cd5bbe3964501afd692","name":"When Needed"},{"type":"Branch","label":"Short Description","expression":{"type":"Applicability","mode":"query","value":"change_fields=short_desc^needit_listISNOTEMPTY"},"id":"c36bd7cec0774440bfea28b0d5e47f76","name":"Short Description"},{"type":"Branch","label":"Nothing","expression":{"type":"Applicability","mode":"query","value":"change_fields=nothing"},"id":"a94e25ed8d634e3185d0bc747893358b","name":"Nothing"}],"id":"7ea4af8beb9b4b3c9011d85162d6e7bc","goal_id":"c786a405322b411e95b87014b4b4fb4a"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"06d0be600aea43da9b80c4683ca18f50","name":"Change fields","goal_id":"c786a405322b411e95b87014b4b4fb4a","variable_id":"4321fa025d87478ebebeb4029bafcbf6","message":{"type":"String","mode":"string","value":"Which field value do you want to change?"},"optional":false},{"type":"InputPrompt","variable_id":"35563814c434486887897b9fc5749346","message":{"type":"String","mode":"string","value":"Enter the new short description"},"optional":false,"id":"36cc62dab1844958a91c7037376444f6","name":"New Short Description","goal_id":"c786a405322b411e95b87014b4b4fb4a"},{"type":"CRUDAction","mode":"update","query":"short_description={{vaInputs.new_short_description}}","variable_id":"23b3bbfd635a4548ab3f5abaef259122","id":"2b50765570e049cbbe48e9ed3c51d34a","name":"Change Short description","goal_id":"c786a405322b411e95b87014b4b4fb4a"},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"23b3bbfd635a4548ab3f5abaef259122","fields":["short_description"],"id":"e1066079cd5444768c4e8429ce119227","name":"Updated NeedIt","goal_id":"c786a405322b411e95b87014b4b4fb4a","condition":{"type":"Condition","mode":"variable","value":""}},{"type":"ScriptedAction","script":"(function execute() {\n    /* Code your scripted action here. For example, you might update a \n       record based on conditional logic:\n    \n        if (vaVars.my_flag == 'say hello') {\n            gs.info('hi there');\n        } else {\n            gs.info('bye now');\n        }\n    */\n    vaVars.search_count=vaVars.search_count+1;\n})()\n","id":"318c07d8c4c14f90aac478c19d13f513","name":"Update search_count","goal_id":"c786a405322b411e95b87014b4b4fb4a"},{"type":"Decision","name":"More than three?","branches":[{"type":"Branch","label":"Count less than three","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    if(vaVars.search_count&lt;3)\n        return true;\n})()\n"},"id":"8128f489ec5e4cceab43b732134c8896","name":"Count less than three"},{"type":"Branch","label":"Count more than three","expression":{"type":"Applicability","mode":"query","value":""},"id":"7cfa3704c5fa499fb81d1d89ce2bd520","name":"Count more than three"}],"id":"24924a8734f1487daf61fe36156b8637","goal_id":"c786a405322b411e95b87014b4b4fb4a"},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"You cannot view more than three requests at a time."},"id":"c817d012e2314d88a3c974099a99f51e","name":"Update User","goal_id":"c786a405322b411e95b87014b4b4fb4a"}],"edges":[{"type":"Edge","source_node_id":"c257a355016846139f800dacfd06b1f5","target_node_id":"e78aee72f4a3421bb8d8a4c9194c5ad3","id":"1f1b9831370a491c8efca89fdba62b62"},{"type":"Edge","source_node_id":"e78aee72f4a3421bb8d8a4c9194c5ad3","target_node_id":"5ce656022ba5445cb1f201a744bcbdc8","id":"100d28c06eb649f6bcc2c37b1611951a"},{"type":"Edge","source_node_id":"5ce656022ba5445cb1f201a744bcbdc8","target_node_id":"38f86382149749a29f46b0a1eda30e28","id":"2d915552a88e4d5181843b5a7bc02f9e"},{"type":"Edge","source_node_id":"38f86382149749a29f46b0a1eda30e28","target_node_id":"8fd574293b5f4e9a8b5c8bacba208516","id":"8978fe91c468402eb6c496d9037d3c6a"},{"type":"Edge","source_node_id":"1c1460b9256e4ac989ce7edd343530ad","target_node_id":"07f89e0d421c410c9a8601c7602b2b7d","id":"758a283c17a04867849762127bd9ccbd"},{"type":"Edge","source_node_id":"07f89e0d421c410c9a8601c7602b2b7d","target_node_id":"222957b8f6944953952964e65e9d7f5d","branch_id":"d48286dd06d0432a9d1f1313e3a86e64","id":"062effccbb12469da0fab1fefb31f683","name":"d48286dd06d0432a9d1f1313e3a86e64"},{"type":"Edge","source_node_id":"9820c69614cc4f08854f027916dc7ddf","target_node_id":"5acacdfc7dca4425b3e80d5d2254b602","id":"6a62f478fcbf407b8d9d01a609de0c0b"},{"type":"Edge","source_node_id":"5acacdfc7dca4425b3e80d5d2254b602","target_node_id":"fbb6e742dd5540c1bf1413805be070cf","id":"0ba94dd5949145fbb199bafb6d667096"},{"type":"Edge","source_node_id":"fbb6e742dd5540c1bf1413805be070cf","target_node_id":"1c1460b9256e4ac989ce7edd343530ad","id":"9c56b1066a234891b397e18b22102e67"},{"type":"Edge","source_node_id":"7ea4af8beb9b4b3c9011d85162d6e7bc","target_node_id":"9820c69614cc4f08854f027916dc7ddf","branch_id":"cc8cbb572d464cd5bbe3964501afd692","id":"cf6c4737b1584c07a6e6693a95e2c286","name":"cc8cbb572d464cd5bbe3964501afd692"},{"type":"Edge","source_node_id":"8fd574293b5f4e9a8b5c8bacba208516","target_node_id":"06d0be600aea43da9b80c4683ca18f50","id":"c7a4abbe6a9a4fd1b94ce4d3ab6327da"},{"type":"Edge","source_node_id":"06d0be600aea43da9b80c4683ca18f50","target_node_id":"7ea4af8beb9b4b3c9011d85162d6e7bc","id":"2a8e64ce657e47a880dbab0d1bc9138b"},{"type":"Edge","source_node_id":"7ea4af8beb9b4b3c9011d85162d6e7bc","target_node_id":"36cc62dab1844958a91c7037376444f6","branch_id":"c36bd7cec0774440bfea28b0d5e47f76","id":"c89619ea25684c9cb1d57c52d4bbbcae","name":"c36bd7cec0774440bfea28b0d5e47f76"},{"type":"Edge","source_node_id":"36cc62dab1844958a91c7037376444f6","target_node_id":"2b50765570e049cbbe48e9ed3c51d34a","id":"bd534e2c46f24016a8b23c3be8345501"},{"type":"Edge","source_node_id":"7ea4af8beb9b4b3c9011d85162d6e7bc","target_node_id":"1c1460b9256e4ac989ce7edd343530ad","branch_id":"a94e25ed8d634e3185d0bc747893358b","id":"cbf225e66d3c4f3eabfe714d95c51905","name":"a94e25ed8d634e3185d0bc747893358b"},{"type":"Edge","source_node_id":"2b50765570e049cbbe48e9ed3c51d34a","target_node_id":"e1066079cd5444768c4e8429ce119227","id":"e4346cc452eb4fcaa36909e964c62571"},{"type":"Edge","source_node_id":"e1066079cd5444768c4e8429ce119227","target_node_id":"1c1460b9256e4ac989ce7edd343530ad","id":"80a7595fbb9943498041a188d268d1be"},{"type":"Edge","source_node_id":"07f89e0d421c410c9a8601c7602b2b7d","target_node_id":"318c07d8c4c14f90aac478c19d13f513","branch_id":"cc610bb7bf9249f8bc00aad1ef726e69","id":"7f8904058dba41c48e43231cd4c2703b","name":"cc610bb7bf9249f8bc00aad1ef726e69"},{"type":"Edge","source_node_id":"318c07d8c4c14f90aac478c19d13f513","target_node_id":"24924a8734f1487daf61fe36156b8637","id":"1b2f8a30a4bd4f6d89728dba8f13e677"},{"type":"Edge","source_node_id":"24924a8734f1487daf61fe36156b8637","target_node_id":"e78aee72f4a3421bb8d8a4c9194c5ad3","branch_id":"8128f489ec5e4cceab43b732134c8896","id":"1214caf1a68f4ddf9fd358c156b3517c","name":"8128f489ec5e4cceab43b732134c8896"},{"type":"Edge","source_node_id":"24924a8734f1487daf61fe36156b8637","target_node_id":"c817d012e2314d88a3c974099a99f51e","branch_id":"7cfa3704c5fa499fb81d1d89ce2bd520","id":"6f948439315a4505894174019251079e","name":"7cfa3704c5fa499fb81d1d89ce2bd520"},{"type":"Edge","source_node_id":"c817d012e2314d88a3c974099a99f51e","target_node_id":"222957b8f6944953952964e65e9d7f5d","id":"f5cffee4b65048d2ba478c7e7b3bd2c4"}],"id":"c786a405322b411e95b87014b4b4fb4a"}],"script_variables":[{"type":"String","name":"search_count","value":{"type":"String","mode":"string","value":"0"},"id":"c0047fa506454c3d95738404b280a72e"}],"glide_variables":[{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"hr"}],"id":"c4e11be240d1439a9fc6581fc8eb8bb2","name":"needit_type"},{"type":"Reference","table":"sys_user","id":"current-user","name":"user"},{"type":"String","name":"confirm_needit_type","id":"9d548aced5d040d795eec54dacacee74"},{"type":"Reference","table":"x_58872_needit_needit","id":"23b3bbfd635a4548ab3f5abaef259122","name":"needit_list"},{"type":"True/False","id":"8ebdbc47ba39421a9659642119e7c48f","name":"search_again"},{"type":"Date/Time","mode":"date","id":"1fc4429394ce4c3292c439157711732a","name":"new_when_needed_date"},{"type":"Reference","table":"","id":"1b390086038d45aa8de8ce7a17789918","name":"change_when_needed_date"},{"type":"Choice","choices":[{"name":"Short description ","element":"short_desc"},{"name":"When needed ","element":"when_need "},{"name":"Nothing","element":"nothing"}],"id":"4321fa025d87478ebebeb4029bafcbf6","name":"change_fields"},{"type":"String","name":"new_short_description","id":"35563814c434486887897b9fc5749346"},{"type":"Reference","table":"","id":"42f8aeb1518846e09e2182ffa1771ac9","name":"change_short_description"}],"roles":[],"scope":"3e386f38dbc7330070df5c7a489619a5","id":"53260685db4f330070df5c7a4896192e","name":"_PRVW__853ca6f960cbb300643957c6d11f7f1c","key_phrases":["Update NeedIt Records.","NeedIt Request","update needIt"]}</design_definition>
        <design_topic_id>53260685db4f330070df5c7a4896192e</design_topic_id>
        <name>_PRVW__853ca6f960cbb300643957c6d11f7f1c</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2019-08-04 16:57:25</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>c53ca6f9dbcbb30070df5c7a4896191f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt Virtual Agent Conversations" source="x_36439_needit_vir">3e386f38dbc7330070df5c7a489619a5</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt Virtual Agent Conversations">3e386f38dbc7330070df5c7a489619a5</sys_scope>
        <sys_update_name>sys_cb_design_topic_c53ca6f9dbcbb30070df5c7a4896191f</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-08-04 16:57:25</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
